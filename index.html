<!DOCTYPE html>
<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;500;700&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<title>Tip Calcuator</title>
</head>
<body>
	<main id="container">
		<h1>Quick Tip</h1>
		<section>
			<div class="bill space-between">
				<label for="yourBill">Bill</label>
				<input type="number" placeholder="Your bill" id="yourBill" >
			</div>
			<div>
				<div class="space-between">
					<label for="tipInput">Select Tip</label>
					<span id="tipPercent">0%</span>
				</div>
				<input type="range" value="0" id="tipInput" class="range">
			</div>
			<div class="space-between">
				<span>Tip</span>
				<span id="tipValue"></span>
			</div>
			<hr>
			<div class="space-between">
				<span class="total">Total</span>
				<span id="totalWithTip"></span>
			</div>
		</section>
		<section>
			<div>
				<div class="space-between">
					<label for="splitInput">Split</label>
					<span id="splitValue">1 person</span>
				</div>
				<input type="range" min="1" max="10" value="1" id="splitInput" class="range"> 
			</div>
			<div class="space-between">
				<span>Bill Each</span>
				<span id="billEach"></span>
			</div>
			<div class="space-between">
				<span>Tip Each</span>
				<span id="tipEach"></span>
			</div>
		</section>
	</main>
	<script type="text/javascript">
		function formatMoney(value){
			value = value.toFixed(2);
			return "$" + value;
		}
		
		function splitFormat(value) {
			if (value === "1") return value + " person";
			return value + " people";
		}

		function update() {
			let bill= Number(document.getElementById("yourBill").value);
			let tipPercent= document.getElementById("tipInput").value;
			let split = document.getElementById("splitInput").value;
			let tipValue = bill * (tipPercent/100);
			let tipEach = tipValue/split;
			let newBillEach = (bill + tipValue)/split;
			let total = bill + tipValue
			document.getElementById("tipPercent").innerHTML= tipPercent + "%";
			document.getElementById("tipValue").innerHTML= formatMoney(tipValue) ;
			document.getElementById("totalWithTip").innerHTML= formatMoney (total) ;
			document.getElementById("splitValue").innerHTML= splitFormat(split);
			document.getElementById("billEach").innerHTML = formatMoney (newBillEach);
			document.getElementById("tipEach").innerHTML = formatMoney (tipEach);
		}
		let container = document.getElementById("container")
		container.addEventListener("input",update)

	</script>
</body>
</html>